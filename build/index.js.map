{"version":3,"file":"index.js","sources":["../src/src/ts/engine-bridge/module.ts","../src/src/ts/test.ts","../src/src/ts/browser-main.ts"],"sourcesContent":["import EngineStartup, { EmscriptenModule } from \"../../wasm/engine\"\r\nimport EngineWasm from \"../../wasm/engine.wasm\"\r\n\r\nexport let Engine: EmscriptenModule\r\n\r\nexport async function loadEngine(): Promise<void> {\r\n    Engine = await EngineStartup({\r\n        wasmBinary: EngineWasm,\r\n        print: console.log.bind(console),\r\n        locateFile: (path: string) => `/build/wasm/${path}`,\r\n        mainScriptUrlOrBlob: \"/build/wasm/engine.js\",\r\n    })\r\n\r\n    return\r\n}\r\n","import { Engine } from \"./engine-bridge/module\"\r\n\r\nexport function test(): void {\r\n    Engine._init()\r\n\r\n    const startTime = performance.now()\r\n    Engine._test()\r\n    const endTime = performance.now()\r\n\r\n    const ok = Engine._check()\r\n\r\n    const ms_int = Math.round(endTime - startTime)\r\n    alert(`${ms_int} ms`)\r\n\r\n    alert(ok ? \"ok\" : \"NOT OK\")\r\n\r\n    Engine._finalize()\r\n\r\n    Engine._print_memory_stats()\r\n}\r\n","import { loadEngine } from \"./engine-bridge/module\"\r\nimport { GameLoop } from \"./external-services/game-loop\"\r\nimport { Services } from \"./external-services/services\"\r\nimport { test } from \"./test\"\r\n\r\nasync function main() {\r\n    await loadEngine()\r\n    test()\r\n\r\n    // await Services.init()\r\n    // GameLoop.start()\r\n}\r\n\r\n/*\r\nfunction shutdown() {\r\n    GameLoop.stop()\r\n    Services.finalize()\r\n}\r\n*/\r\n\r\nmain()\r\n"],"names":["EngineStartup"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,IAAI,MAAwB,CAAA;AAE5B,eAAe,UAAU,GAAA;IAC5B,MAAM,GAAG,MAAMA,MAAa,CAAC;AACzB,QAAA,UAAU,EAAE,UAAU;QACtB,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QAChC,UAAU,EAAE,CAAC,IAAY,KAAK,CAAA,YAAA,EAAe,IAAI,CAAE,CAAA;AACnD,QAAA,mBAAmB,EAAE,uBAAuB;AAC/C,KAAA,CAAC,CAAA;IAEF,OAAM;AACV;;SCZgB,IAAI,GAAA;IAChB,MAAM,CAAC,KAAK,EAAE,CAAA;AAEd,IAAA,MAAM,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,CAAA;IACnC,MAAM,CAAC,KAAK,EAAE,CAAA;AACd,IAAA,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE,CAAA;AAEjC,IAAA,MAAM,EAAE,GAAG,MAAM,CAAC,MAAM,EAAE,CAAA;IAE1B,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,CAAA;AAC9C,IAAA,KAAK,CAAC,CAAA,EAAG,MAAM,CAAA,GAAA,CAAK,CAAC,CAAA;IAErB,KAAK,CAAC,EAAE,GAAG,IAAI,GAAG,QAAQ,CAAC,CAAA;IAE3B,MAAM,CAAC,SAAS,EAAE,CAAA;IAElB,MAAM,CAAC,mBAAmB,EAAE,CAAA;AAChC;;ACdA,eAAe,IAAI,GAAA;IACf,MAAM,UAAU,EAAE,CAAA;AAClB,IAAA,IAAI,EAAE,CAAA;;;AAIV,CAAC;AAED;;;;;AAKE;AAEF,IAAI,EAAE;;"}