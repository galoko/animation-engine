{"version":3,"file":"index.js","sources":["../src/src/ts/engine-bridge.ts","../src/src/ts/browser-main.ts"],"sourcesContent":["import Engine, { EmscriptenModule } from \"../wasm/engine\"\r\nimport EngineWasm from \"../wasm/engine.wasm\"\r\n\r\nexport let module: EmscriptenModule\r\n\r\nexport async function loadEngine(): Promise<void> {\r\n    module = await Engine({\r\n        wasmBinary: EngineWasm,\r\n        print: console.log.bind(console),\r\n        locateFile: (path: string) => `/build/wasm/${path}`,\r\n        mainScriptUrlOrBlob: \"/build/wasm/engine.js\",\r\n    })\r\n\r\n    return\r\n}\r\n","import { module, loadEngine } from \"./engine-bridge\"\r\n\r\nfunction test(): void {\r\n    module._init()\r\n\r\n    const startTime = performance.now()\r\n    module._test()\r\n    const endTime = performance.now()\r\n\r\n    const ok = module._check()\r\n\r\n    const ms_int = Math.round(endTime - startTime)\r\n    alert(`${ms_int} ms`)\r\n\r\n    alert(ok ? \"ok\" : \"NOT OK\")\r\n\r\n    module._finalize()\r\n\r\n    module._print_memory_stats()\r\n}\r\n\r\nasync function main() {\r\n    // load the engine first\r\n    await loadEngine()\r\n\r\n    test()\r\n}\r\n\r\nmain()\r\n"],"names":["module","Engine"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAGO,IAAIA,QAAwB,CAAA;AAE5B,eAAe,UAAU,GAAA;IAC5BA,QAAM,GAAG,MAAMC,MAAM,CAAC;AAClB,QAAA,UAAU,EAAE,UAAU;QACtB,KAAK,EAAE,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC;QAChC,UAAU,EAAE,CAAC,IAAY,KAAK,CAAA,YAAA,EAAe,IAAI,CAAE,CAAA;AACnD,QAAA,mBAAmB,EAAE,uBAAuB;AAC/C,KAAA,CAAC,CAAA;IAEF,OAAM;AACV;;ACZA,SAAS,IAAI,GAAA;IACTD,QAAM,CAAC,KAAK,EAAE,CAAA;AAEd,IAAA,MAAM,SAAS,GAAG,WAAW,CAAC,GAAG,EAAE,CAAA;IACnCA,QAAM,CAAC,KAAK,EAAE,CAAA;AACd,IAAA,MAAM,OAAO,GAAG,WAAW,CAAC,GAAG,EAAE,CAAA;AAEjC,IAAA,MAAM,EAAE,GAAGA,QAAM,CAAC,MAAM,EAAE,CAAA;IAE1B,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC,CAAA;AAC9C,IAAA,KAAK,CAAC,CAAA,EAAG,MAAM,CAAA,GAAA,CAAK,CAAC,CAAA;IAErB,KAAK,CAAC,EAAE,GAAG,IAAI,GAAG,QAAQ,CAAC,CAAA;IAE3BA,QAAM,CAAC,SAAS,EAAE,CAAA;IAElBA,QAAM,CAAC,mBAAmB,EAAE,CAAA;AAChC,CAAC;AAED,eAAe,IAAI,GAAA;;IAEf,MAAM,UAAU,EAAE,CAAA;AAElB,IAAA,IAAI,EAAE,CAAA;AACV,CAAC;AAED,IAAI,EAAE;;"}